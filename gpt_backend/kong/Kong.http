@Kong_GatewayAddress = http://localhost:8000
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcjE3Iiwicm9sZSI6Ikt1bmRlIiwiaXNzIjoidGVzdHVzZXIxNyIsImlhdCI6MTc0NDgyMDk3NCwiZXhwIjoxNzQ1MDgwMTc0LCJqdGkiOiJmYmZkNTAxYS04ZmFjLTQzNzAtODI4MC1iYTVkNTVkMDBlOGQifQ.oTlPG0Ptzscg7AsYop6qicoIF64YZ_VLEVJOd1GFRBc

### Test: Registrierung eines neuen Users über den Kong-Gateway
POST {{Kong_GatewayAddress}}/auth/register HTTP/1.1
Content-Type: application/json

{
  "username": "testuser17",
  "password": "VeryStrongPassword123!@",
  "role": "Kunde"
}

### Test: Login mit dem neuen User (über den Kong-Gateway)
POST {{Kong_GatewayAddress}}/auth/login HTTP/1.1
Content-Type: application/json

{
  "username": "nelo",
  "password": "VeryStrongPassword123!@"
}

### GET request to get all users
GET {{Kong_GatewayAddress}}/auth/users

### 
# In der Login-Antwort erhältst du ein "access_token". Kopiere diesen Token für die folgenden Anfragen.
###

### Test: Neuen Chat erstellen (über den Kong-Gateway)
# Ersetze <ACCESS_TOKEN> im folgenden Request durch den JWT Token aus dem Login-Response.
POST {{Kong_GatewayAddress}}/chat/new HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "initial_query": "Hallo, das ist ein Testchat über Kong Gateway",
  "llm_response": "Dies ist eine Dummy-Antwort des LLMs."
}

### 
# Die Antwort enthält eine "chat_id", die den neuen Chat identifiziert.
###

### Test: Eine weitere Nachricht zum aktuellen Chat hinzufügen (ohne explizite chat_id, daher wird in den zuletzt aktiven Chat geschrieben)
POST {{Kong_GatewayAddress}}/chat/add HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "role": "user",
  "text": "Hier füge ich eine weitere Nachricht im gleichen Chat ein."
}

### Test: Chat-Historie abrufen (über den Kong-Gateway)
GET {{Kong_GatewayAddress}}/chat/history HTTP/1.1
Authorization: Bearer {{token}}
